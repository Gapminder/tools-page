@import './../_resources/variables.styl'
@import './../_resources/mixins.styl'

a[target="_blank"]::after {
  content: "â‡±";
  margin: 0 3px 0 5px;
  transform: rotate(92deg);
  transform-origin: center;
  display: inline-block;
}

.app-user-login

  button, span.button
    appearance: none
    -webkit-appearance: none
    -moz-appearance: none
    background: none
    font-size: 1em
    color:  $color-blue-darker
    margin: 20px 0
    cursor: pointer
    border 1px solid $color-primary
    border-radius: 4px
    padding 2px 10px
    &:hover
      color: $color-primary;

  &.open
    .user-login-form-wrapper
      display: flex
      z-index: 9999

  &.logged
    .user-login-title
      display: none
    .user-logged-title
      display: block
    &.open
      .user-login-form-wrapper
        display: none
      .user-logged-form-wrapper
        display: flex

  .user-login-title
    get-font-size(small)
    padding: 2px 6px
    text-wrap: nowrap
    border: $color-primary solid 1px
    border-radius: 4px
    cursor: pointer

  .user-logged-title
    get-font-size(small)
    display: none
    color $color-primary
    text-wrap: nowrap
    cursor: pointer
    margin-right: 5px;
    &:after
      font-size: 0.8em
      content '\25BC'
      padding 0 0 0 4px
      border-left 1px solid $color-primary
      color $color-primary
      margin-left 4px

  .user-logged-form-wrapper
    display: none

    flex-direction: column;
    align-items: start;
    z-index: 1;
    position: absolute;
    bottom: 31px;
    width: 200px;
    right: 20px;
    background-color: #ffffff
    border: 1px solid $color-primary;
    padding: 10px
    border-radius: 4px
    gap: 10px
    get-font-size(small)

    button
      align-self: center;
      margin 0

    a 
      color:  $color-blue-darker
      text-decoration: underline
      &:hover
        color: $color-primary

    hr
      width 80%

    .user-logged-name
      align-self center

  .user-login-form-wrapper
    display: none

    position: absolute
    justify-content: center
    flex-direction: column
    align-content: center
    align-items: center
    
    .user-login-close
      margin-top: -5px
      margin-right: 4px

    .user-login-form
      background-color: #ffffff

      .panel
        display: flex
        flex-direction: column
        align-items: center
        margin: 24px 30px 4px

        label
          margin-top: 20px
          align-self: flex-start
          font-size: .8em

        hr
          margin-bottom: 0
          width: 100%
        .hr-text-center
          margin-top: -.7em
          padding: 0 5px
          background-color: #ffffff

        .login-oauth
          display: flex;
          flex-direction: row;
          justify-content: space-around;
          width: 100%;
          .button
            border: 0

      .signup-panel
        display: none

      &.signup
        .signup-panel
          display: flex
        .login-panel
          display: none

